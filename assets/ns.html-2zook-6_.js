import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as i,o as r,c as m,a as e,b as t,d as s,e as l}from"./app-D7Ke3sJ9.js";const c={},o=l('<h1 id="改进ns模型" tabindex="-1"><a class="header-anchor" href="#改进ns模型"><span>改进NS模型</span></a></h1><p>本节介绍NS模型基本内容、改进NS模型以及对应代码的实现。</p><h2 id="_1-基本概念" tabindex="-1"><a class="header-anchor" href="#_1-基本概念"><span>1 基本概念</span></a></h2><h3 id="_1-1-nagel–schreckenberg-model-ns模型" tabindex="-1"><a class="header-anchor" href="#_1-1-nagel–schreckenberg-model-ns模型"><span>1.1 Nagel–Schreckenberg model NS模型</span></a></h3>',4),p=e("strong",null,"Nagel–Schreckenberg model",-1),g={href:"https://en.wikipedia.org/wiki/Nagel%E2%80%93Schreckenberg_model#cite_note-sn-1",target:"_blank",rel:"noopener noreferrer"},h=l('<p><em>Nagel–Schreckenberg model, short for NS model, first develped by German physicists Kai Nagel and Michael Schreckenberg, is a theoretical Cellular Automata-based model for traffic simulation.</em></p><h3 id="_1-2-rule-184" tabindex="-1"><a class="header-anchor" href="#_1-2-rule-184"><span>1.2 Rule 184</span></a></h3><p>补充一下基于CA交通仿真中最常见的规则，即 Rule 184，即对于一条道路上连续的三个cell，他们的状态有以下8种（用0代表空，用1代表有车占有）,如下图所示：</p><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/184.png?raw=true" alt="Rule 184" tabindex="0" loading="lazy"><figcaption>Rule 184</figcaption></figure><h3 id="_1-3-phantom-traffic-jam-幽灵拥堵" tabindex="-1"><a class="header-anchor" href="#_1-3-phantom-traffic-jam-幽灵拥堵"><span>1.3 Phantom traffic jam 幽灵拥堵</span></a></h3><ul><li><p>定义：莫名发生的交通拥堵 traffic jam without clear reasons</p></li><li><p>原因：在拥堵（heavy）交通流中，微小的交通扰动（small disturbances），如司机过度刹车或者与其他车里的太近，都会被放大形成(be amplified into)内生性的交通拥堵。 Small disturbances, such as overreations of braking or getting too close to another vehicle, in heavy traffic can be amplified into a self-sustained traffic jam.</p></li><li><p>结果：形成stop-and-go wave</p></li></ul><div class="hint-container info"><p class="hint-container-title">Stop-And-Go Wave</p><p>字面意是停走波</p><p>形成原因：</p><ul><li>微观（从driver角度）：vehicle slowly move → decelerate → stop → accelerate →</li><li>宏观，如下图Time-Space Diagram所示：</li></ul><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/stg.png?raw=true" alt="Time-Space Diagram 时空图" tabindex="0" loading="lazy"><figcaption>Time-Space Diagram 时空图</figcaption></figure><p>由上图可以看到stop-and-go wave沿车流末端传播的速度，即<strong>wave speed</strong>以及波次间隔时间<strong>wave period</strong>。</p><p>这样的stop-and-go wave会造成以下危害：</p><ul><li>更费油与更多排放 more fuels and emmisions.</li><li>更加危险 more dangerous.</li></ul></div><h3 id="_1-4-基本图-fundamental-diagram" tabindex="-1"><a class="header-anchor" href="#_1-4-基本图-fundamental-diagram"><span>1.4 基本图 Fundamental Diagram</span></a></h3><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/fd.png?raw=true" alt="Fundamental Diagram 基本图" tabindex="0" loading="lazy"><figcaption>Fundamental Diagram 基本图</figcaption></figure><ul><li>Capacity/Maximum Flow 极大流率：qk曲线极值</li><li>Free Flow Speed 畅行速度：k=0对应的速度</li><li>Critical Density 临界密度：极大流率对应的密度</li><li>Critical Speed 临界速度：极大流率对应的速度</li><li>Jam Density 堵塞密度：v=0时的密度</li></ul><h2 id="_2-model-description-模型描述" tabindex="-1"><a class="header-anchor" href="#_2-model-description-模型描述"><span>2 Model Description 模型描述</span></a></h2><h3 id="_2-1-model-information-模型说明" tabindex="-1"><a class="header-anchor" href="#_2-1-model-information-模型说明"><span>2.1 Model Information 模型说明</span></a></h3><ul><li><p>空间时间上均离散化。 Discrete in space and time</p></li><li><p>所有车辆同步更新。 Each vehicle is updated parallel</p></li><li><p>每个元胞长7.5m（包括了车长+距离前车的安全距离）。 Lane is divided into cells of length 7.5 m, which includes the vehicle length and the safe distance to the preceeding/leading vehicle.</p></li><li><p>每个元胞为空或仅被一辆车占据。 Each cell can either be empty or occupied by only one vehicle.</p></li><li><p>每个车辆拥有坐标、速度属性，车辆有最大速度限制。 Each vehicle is characterized by its velocity and coordinates. The velocity has a limit.</p></li></ul><h3 id="_2-2-model-step-更新规则" tabindex="-1"><a class="header-anchor" href="#_2-2-model-step-更新规则"><span>2.2 Model Step 更新规则</span></a></h3><ul><li><strong>Step 1</strong>：加速 Acceleration：对于未到达最大速度的车辆，以一个单位加速。 For vehicle not reaching speed limit, it accelerates with 1 unit.</li></ul>',15),d=e("div",{style:{"text-align":"center"}},[e("p",{class:"katex-block"},[e("span",{class:"katex-display"},[e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[e("semantics",null,[e("mrow",null,[e("mi",null,"v"),e("mo",{stretchy:"false"},"("),e("mi",null,"i"),e("mo",{stretchy:"false"},")"),e("mo",null,"→"),e("mi",null,"min"),e("mo",null,"⁡"),e("mrow",null,[e("mi",null,"v"),e("mo",{stretchy:"false"},"("),e("mi",null,"i"),e("mo",{stretchy:"false"},")"),e("mo",null,"+"),e("mn",null,"1"),e("mo",{separator:"true"},","),e("msub",null,[e("mi",null,"V"),e("mtext",null,"max")])])]),e("annotation",{encoding:"application/x-tex"}," v(i) \\rightarrow \\min{v(i) + 1, V_{\\text{max}}} ")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),e("span",{class:"mopen"},"("),e("span",{class:"mord mathnormal"},"i"),e("span",{class:"mclose"},")"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"→"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),e("span",{class:"mop"},"min"),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),e("span",{class:"mopen"},"("),e("span",{class:"mord mathnormal"},"i"),e("span",{class:"mclose"},")"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),e("span",{class:"mbin"},"+"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),e("span",{class:"mord"},"1"),e("span",{class:"mpunct"},","),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"V"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.1514em"}},[e("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord text mtight"},[e("span",{class:"mord mtight"},"max")])])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])])])])])])])]),e("div",{style:{"text-align":"left"}},[e("p",null,"这反应了司机希望开得越快越好 reflect the desire of drivers to drive as fast as possible.")])],-1),u=e("ul",null,[e("li",null,[e("strong",null,"Step 2"),t(": 减速 Safe Distance Judgment：当汽车当前速度大于与前车的距离（前方的空元胞数），则汽车减速为安全距离，否则维持原速。"),e("br"),t(" If vehicle speed is larger than the number of empty cells in front of it, it velocity reduces to that empty cell amount. Otherwise, it keeps its speed.")])],-1),y=e("div",{style:{"text-align":"center"}},[e("p",{class:"katex-block"},[e("span",{class:"katex-display"},[e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[e("semantics",null,[e("mrow",null,[e("mi",null,"v"),e("mo",{stretchy:"false"},"("),e("mi",null,"i"),e("mo",{stretchy:"false"},")"),e("mo",null,"→"),e("mi",null,"min"),e("mo",null,"⁡"),e("mrow",null,[e("mi",null,"v"),e("mo",{stretchy:"false"},"("),e("mi",null,"i"),e("mo",{stretchy:"false"},")"),e("mo",{separator:"true"},","),e("mi",null,"d"),e("mo",{stretchy:"false"},"("),e("mi",null,"i"),e("mo",{stretchy:"false"},")")])]),e("annotation",{encoding:"application/x-tex"}," v(i) \\rightarrow \\min{v(i) , d(i)} ")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),e("span",{class:"mopen"},"("),e("span",{class:"mord mathnormal"},"i"),e("span",{class:"mclose"},")"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"→"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),e("span",{class:"mop"},"min"),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),e("span",{class:"mopen"},"("),e("span",{class:"mord mathnormal"},"i"),e("span",{class:"mclose"},")"),e("span",{class:"mpunct"},","),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord mathnormal"},"d"),e("span",{class:"mopen"},"("),e("span",{class:"mord mathnormal"},"i"),e("span",{class:"mclose"},")")])])])])])]),e("div",{style:{"text-align":"left"}},[e("p",null,"It encodes the interaction between the vehicle. In this simple model, interactions only occur to avoid collision.")])],-1),b=e("ul",null,[e("li",null,[e("strong",null,"Step 3"),t("：随机慢化 Randomization：车辆以p的概率随机减速一个单位，p称为随机慢化概率。 The speed of vehicle reduces by one unit with slowdown probability p.")])],-1),f=e("div",{style:{"text-align":"center"}},[e("p",{class:"katex-block"},[e("span",{class:"katex-display"},[e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[e("semantics",null,[e("mrow",null,[e("mi",null,"v"),e("mo",{stretchy:"false"},"("),e("mi",null,"i"),e("mo",{stretchy:"false"},")"),e("mo",null,"→"),e("mi",null,"max"),e("mo",null,"⁡"),e("mrow",null,[e("mi",null,"v"),e("mo",{stretchy:"false"},"("),e("mi",null,"i"),e("mo",{stretchy:"false"},")"),e("mo",null,"−"),e("mn",null,"1"),e("mo",{separator:"true"},","),e("mn",null,"0")])]),e("annotation",{encoding:"application/x-tex"}," {v(i) \\rightarrow \\max{v(i) - 1, 0}} ")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),e("span",{class:"mopen"},"("),e("span",{class:"mord mathnormal"},"i"),e("span",{class:"mclose"},")"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"→"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mop"},"max"),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),e("span",{class:"mopen"},"("),e("span",{class:"mord mathnormal"},"i"),e("span",{class:"mclose"},")"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),e("span",{class:"mbin"},"−"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),e("span",{class:"mord"},"1"),e("span",{class:"mpunct"},","),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord"},"0")])])])])])])]),e("div",{style:{"text-align":"left"}},[e("p",null,[t("反映"),e("strong",null,"驾驶员的不完美驾驶行为（imperfect behavior of drivers）"),t("，比如在步骤2减速时刹车踩的过大。在现实场景，驾驶员不可能总是按照一定速度(constant speed)行驶，总会有一定的波动(fluctuations)。当车流量足够大，驾驶员的这一行为会引起交通系统的一系列反应，最终形成拥堵现象。这也是反映了拥堵总是在没有任何外部原因（external reasons ，如事故）就会发生的，因此称为幽灵拥堵（phantom jam）。")]),e("p",null,"Randomization reflects the imperfect behavior of drivers like the overreations of braking in Step 2. In real-world scenario, drivers cannot always drive at a constant speed. There always has fluctuations of the velocity.")])],-1),x=e("ul",null,[e("li",null,[e("strong",null,"Step 4"),t(": 位置更新 Driving：每个车辆前进当前速度的格数。 Every vehicle forward by v(i) cells.")])],-1),v=e("h2",{id:"_3-改进ns模型-ns-model-for-inhomogenous-traffic-flow-in-a-single-lane",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-改进ns模型-ns-model-for-inhomogenous-traffic-flow-in-a-single-lane"},[e("span",null,"3 改进NS模型 NS Model for Inhomogenous Traffic Flow in a Single Lane")])],-1),_=e("h3",{id:"_3-1-改进点",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-1-改进点"},[e("span",null,"3.1 改进点：")])],-1),w=e("ol",null,[e("li",null,[t("车辆以最大加速度 "),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("msub",null,[e("mi",null,"a"),e("mrow",null,[e("mi",null,"m"),e("mi",null,"a"),e("mi",null,"x")])])]),e("annotation",{encoding:"application/x-tex"},"a_{max}")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.5806em","vertical-align":"-0.15em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"a"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.1514em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight"},"ma"),e("span",{class:"mord mathnormal mtight"},"x")])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])])])])]),t(" 加减速而不是以1 Vehicle accelerates/decelerates with maximum acceleration not 1.")]),e("li",null,"引入慢启动系数s（反应静止车辆启动较慢） Introduce the Slow Start probability(short for s) to reflect the difficuty of stationary vehicles to start up."),e("li",null,"考虑异质(inhomogeneous)车流（反映在车长，最大速度，最大加速度） Consider the inhomogeneous flow like the vehicle length, maximum velocity and maximum acceleration.")],-1),S=l('<h3 id="_3-2-模型信息" tabindex="-1"><a class="header-anchor" href="#_3-2-模型信息"><span>3.2 模型信息</span></a></h3><p>单车道 周期边界 Single Lane with Periodic Boundary</p><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/model.png?raw=true" alt="模型信息" tabindex="0" loading="lazy"><figcaption>模型信息</figcaption></figure><h3 id="_3-3-结果" tabindex="-1"><a class="header-anchor" href="#_3-3-结果"><span>3.3 结果</span></a></h3><p>通过改变货车占比r(propotion of trucks)、随机慢化概率p以及慢启动系数s，分别做FD图以及时空位置图，分别分析其对于交通系统的影响影响。</p><p>如当s = 0.1, p = 0.3 条件下，分别做r=0,0.1,0.2,0.3的时空位置图(Time-Space Diagram)以及基本图（Fundemantal Diagram, FD）,红线为货车，黑线为小汽车。</p><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r==0.png?raw=true" alt="r=0" tabindex="0" loading="lazy"><figcaption>r=0</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r==0.1.png?raw=true" alt="r=0.1" tabindex="0" loading="lazy"><figcaption>r=0.1</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r==0.2.png?raw=true" alt="r=0.2" tabindex="0" loading="lazy"><figcaption>r=0.2</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r==0.3.png?raw=true" alt="r=0.3" tabindex="0" loading="lazy"><figcaption>r=0.3</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r=0.png?raw=true" alt="r=0 含速度" tabindex="0" loading="lazy"><figcaption>r=0 含速度</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r=0.1.png?raw=true" alt="r=0.1 含速度" tabindex="0" loading="lazy"><figcaption>r=0.1 含速度</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r=0.2.png?raw=true" alt="r=0.2 含速度" tabindex="0" loading="lazy"><figcaption>r=0.2 含速度</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r=0.3.png?raw=true" alt="r=0.3 含速度" tabindex="0" loading="lazy"><figcaption>r=0.3 含速度</figcaption></figure><p>可以看到随着货车比例的增加，wave speed逐渐降低，wave period也逐渐变小，反应交通系统越来越拥堵。</p><p>做FD图如下：</p><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/货车0，qkv.png?raw=true" alt="r=0" tabindex="0" loading="lazy"><figcaption>r=0</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/货车0.1,qkv.png?raw=true" alt="r=0.1" tabindex="0" loading="lazy"><figcaption>r=0.1</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/货车0.2，qkv.png?raw=true" alt="r=0.2" tabindex="0" loading="lazy"><figcaption>r=0.2</figcaption></figure><figure><img src="https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/货车0.3，qkv.png?raw=true" alt="r=0.3" tabindex="0" loading="lazy"><figcaption>r=0.3</figcaption></figure><table><thead><tr><th style="text-align:center;">r</th><th style="text-align:center;">极大流率Qm</th><th style="text-align:center;">临界密度Kc</th><th style="text-align:center;">临界速度Vc</th><th style="text-align:center;">堵塞密度Kj</th><th style="text-align:center;">畅行速度Vf</th></tr></thead><tbody><tr><td style="text-align:center;">0</td><td style="text-align:center;">2326.9176</td><td style="text-align:center;">19</td><td style="text-align:center;">122.4693</td><td style="text-align:center;">140</td><td style="text-align:center;">126.7668</td></tr><tr><td style="text-align:center;">0.01</td><td style="text-align:center;">1782.0972</td><td style="text-align:center;">40</td><td style="text-align:center;">44.5524</td><td style="text-align:center;">138</td><td style="text-align:center;">126.8262</td></tr><tr><td style="text-align:center;">0.03</td><td style="text-align:center;">1702.6758</td><td style="text-align:center;">40</td><td style="text-align:center;">42.5669</td><td style="text-align:center;">131</td><td style="text-align:center;">126.9054</td></tr><tr><td style="text-align:center;">0.05</td><td style="text-align:center;">1647.4248</td><td style="text-align:center;">39</td><td style="text-align:center;">42.2417</td><td style="text-align:center;">127</td><td style="text-align:center;">46.3035</td></tr><tr><td style="text-align:center;">0.1</td><td style="text-align:center;">1534.3903</td><td style="text-align:center;">37</td><td style="text-align:center;">43.0448</td><td style="text-align:center;">115</td><td style="text-align:center;">46.4292</td></tr><tr><td style="text-align:center;">0.2</td><td style="text-align:center;">1377.4356</td><td style="text-align:center;">34</td><td style="text-align:center;">40.5128</td><td style="text-align:center;">99</td><td style="text-align:center;">46.0799</td></tr><tr><td style="text-align:center;">0.3</td><td style="text-align:center;">1241.7444</td><td style="text-align:center;">32</td><td style="text-align:center;">38.8045</td><td style="text-align:center;">86</td><td style="text-align:center;">42.9739</td></tr></tbody></table><p>随着货车比例r的增加，Qm逐渐减小，Kc先增加后减小，Vc先急剧减小后基本不变，Kj逐渐减小，Vf先不变后急剧减小。</p><p>通过改变s与p的大小，也可以同理做出上述图表，这里不一一展示。</p><h3 id="_3-4-代码" tabindex="-1"><a class="header-anchor" href="#_3-4-代码"><span>3.4 代码</span></a></h3>',24),k={href:"https://github.com/RyanLee-ljx/CA/tree/main/NS",target:"_blank",rel:"noopener noreferrer"},N=e("h3",{id:"_3-5-进一步的改进点",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-5-进一步的改进点"},[e("span",null,"3.5 进一步的改进点")])],-1),j=e("ul",null,[e("li",null,"多车道，考虑换道，如STCA模型。"),e("li",null,"Velocity-Dependent-Randomization（VDR）：NS模型中p是固定不变的，VDR中p是v的函数（与加入随机慢化概率s效果类似）。")],-1),L={class:"hint-container info"},R=e("p",{class:"hint-container-title"},"STCA（[以下内容源于][m]）",-1),z={href:"https://www.sciencedirect.com/science/article/abs/pii/0378437195004424",target:"_blank",rel:"noopener noreferrer"},M={href:"https://www.sciencedirect.com/science/article/abs/pii/S0378437196003147",target:"_blank",rel:"noopener noreferrer"},D=e("strong",null,"车辆换道规则",-1),C=e("p",null,[t("STCA模型在应用过程中将一个时步分为"),e("strong",null,"两个相同的子时步"),t("。"),e("strong",null,"第一个时步"),t("为车辆换道时步，车辆在这个时步内按照设计的换道规则决定是否发生换道行为；"),e("strong",null,"第二个时步"),t("为演化更新时步，两条车道上的车辆在该时步均按照单车道元胞自动机模型中设计的演化更新规则运行。")],-1),T=e("p",null,"换道规则一般包括两个部分：",-1),A=e("ol",null,[e("li",null,"换道动机： 换道动机是指驾驶员想换道的意愿和条件。当某车辆在当前车道上无法达到驾驶员的期望速度，而另一条车道上的驾驶条件可以满足驾驶员对速度的要求时，车辆会以一定的换道概率进行换道。")],-1),E=e("p",{class:"katex-block"},[e("span",{class:"katex-display"},[e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[e("semantics",null,[e("mtable",{rowspacing:"0.16em",columnalign:"right",columnspacing:"1em"},[e("mtr",null,[e("mtd",null,[e("mstyle",{scriptlevel:"0",displaystyle:"false"},[e("mrow",null,[e("msub",null,[e("mi",null,"d"),e("mi",null,"n")]),e("mo",null,"<"),e("mi",{mathvariant:"normal"},"Δ"),e("mi",null,"t"),e("mi",null,"min"),e("mo",null,"⁡"),e("mrow",null,[e("mo",{fence:"true"},"("),e("msub",null,[e("mi",null,"v"),e("mi",null,"n")]),e("mo",null,"+"),e("mn",null,"1"),e("mo",{separator:"true"},","),e("msub",null,[e("mi",null,"v"),e("mi",null,"max"),e("mo",null,"⁡")]),e("mo",{fence:"true"},")")])])])])]),e("mtr",null,[e("mtd",null,[e("mstyle",{scriptlevel:"0",displaystyle:"false"},[e("mrow",null,[e("msub",null,[e("mi",null,"d"),e("mrow",null,[e("mi",null,"n"),e("mo",{separator:"true"},","),e("mtext",null," sidefront ")])]),e("mo",null,">"),e("msub",null,[e("mi",null,"d"),e("mi",null,"n")]),e("mo",null,"⋯")])])])])]),e("annotation",{encoding:"application/x-tex"}," \\begin{array}{r} d_n<\\Delta t \\min \\left(v_n+1, v_{\\max }\\right) \\\\ d_{n, \\text { sidefront }}>d_n \\cdots \\end{array} ")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"2.4em","vertical-align":"-0.95em"}}),e("span",{class:"mord"},[e("span",{class:"mtable"},[e("span",{class:"arraycolsep",style:{width:"0.5em"}}),e("span",{class:"col-align-r"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"1.45em"}},[e("span",{style:{top:"-3.61em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"mord"},[e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"d"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.1514em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"n")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"<"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mord"},"Δ"),e("span",{class:"mord mathnormal"},"t"),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mop"},"min"),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"minner"},[e("span",{class:"mopen delimcenter",style:{top:"0em"}},"("),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.1514em"}},[e("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"n")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),e("span",{class:"mbin"},"+"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),e("span",{class:"mord"},"1"),e("span",{class:"mpunct"},","),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.1514em"}},[e("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mop mtight"},[e("span",{class:"mtight"},"m"),e("span",{class:"mtight"},"a"),e("span",{class:"mtight"},"x")])])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])]),e("span",{class:"mclose delimcenter",style:{top:"0em"}},")")])])]),e("span",{style:{top:"-2.41em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"mord"},[e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"d"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.3361em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight"},"n"),e("span",{class:"mpunct mtight"},","),e("span",{class:"mord text mtight"},[e("span",{class:"mord mtight"}," sidefront ")])])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.2861em"}},[e("span")])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},">"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"d"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.1514em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"n")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"minner"},"⋯")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.95em"}},[e("span")])])])]),e("span",{class:"arraycolsep",style:{width:"0.5em"}})])])])])])])],-1),F=e("ol",{start:"2"},[e("li",null,"安全条件： 安全条件是指车辆在决定换道时要确定当前交通状况下换道对于自身和其他车辆是否安全，避免因车辆换道引起交通事故，危害生命财产安全。")],-1),B=e("p",{class:"katex-block"},[e("span",{class:"katex-display"},[e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[e("semantics",null,[e("mrow",null,[e("msub",null,[e("mi",null,"d"),e("mrow",null,[e("mi",null,"n"),e("mo",{separator:"true"},","),e("mtext",null," sideback ")])]),e("mo",null,">"),e("msub",null,[e("mi",null,"d"),e("mtext",null,"safe ")])]),e("annotation",{encoding:"application/x-tex"}," d_{n, \\text { sideback }}>d_{\\text {safe }} ")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.9805em","vertical-align":"-0.2861em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"d"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.3361em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight"},"n"),e("span",{class:"mpunct mtight"},","),e("span",{class:"mord text mtight"},[e("span",{class:"mord mtight"}," sideback ")])])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.2861em"}},[e("span")])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},">"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8444em","vertical-align":"-0.15em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"d"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.3361em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord text mtight"},[e("span",{class:"mord mtight"},"safe ")])])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])])])])])])],-1);function V(q,I){const a=i("ExternalLinkIcon");return r(),m("div",null,[o,e("p",null,[p,t("，简称NS model，最初由德国物理学家"),e("a",g,[t("Kai Nagel and Michael Schreckenberg"),s(a)]),t(",是一种基于CA模型的用于交通仿真的理论模型。")]),h,d,u,y,b,f,x,v,_,w,S,e("p",null,[e("a",k,[t("完整代码"),s(a)]),t("，内含动画演示。")]),N,j,e("div",L,[R,e("p",null,[t("由"),e("a",z,[t("Rickert M"),s(a)]),t("和"),e("a",M,[t("Chowdhury D"),s(a)]),t("等人在单车道元胞自动机Nasch模型的基础上提出了双车道元胞自动机STCA模型。该模型将模拟的道路环境扩展为双车道，增加了"),D,t("，使之能够更真实准确地模拟出道路上交通流的运行状况。")]),C,T,A,E,F,B])])}const Z=n(c,[["render",V],["__file","ns.html.vue"]]),J=JSON.parse(`{"path":"/traffic/ns.html","title":"改进NS模型","lang":"zh-CN","frontmatter":{"icon":"chedao","date":"2024-06-03T00:00:00.000Z","category":"交通","isOriginal":true,"star":true,"tag":"traffic","description":"改进NS模型 本节介绍NS模型基本内容、改进NS模型以及对应代码的实现。 1 基本概念 1.1 Nagel–Schreckenberg model NS模型 Nagel–Schreckenberg model，简称NS model，最初由德国物理学家Kai Nagel and Michael Schreckenberg,是一种基于CA模型的用于交通仿真...","head":[["meta",{"property":"og:url","content":"https://ryanlee-ljx.github.io/traffic/ns.html"}],["meta",{"property":"og:site_name","content":"RyanLee's blog"}],["meta",{"property":"og:title","content":"改进NS模型"}],["meta",{"property":"og:description","content":"改进NS模型 本节介绍NS模型基本内容、改进NS模型以及对应代码的实现。 1 基本概念 1.1 Nagel–Schreckenberg model NS模型 Nagel–Schreckenberg model，简称NS model，最初由德国物理学家Kai Nagel and Michael Schreckenberg,是一种基于CA模型的用于交通仿真..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/184.png?raw=true"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-05T15:19:05.000Z"}],["meta",{"property":"article:author","content":"RyanLee_ljx"}],["meta",{"property":"article:tag","content":"traffic"}],["meta",{"property":"article:published_time","content":"2024-06-03T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-05T15:19:05.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"改进NS模型\\",\\"image\\":[\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/184.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/stg.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/fd.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/model.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r==0.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r==0.1.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r==0.2.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r==0.3.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r=0.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r=0.1.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r=0.2.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/r=0.3.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/%E8%B4%A7%E8%BD%A60%EF%BC%8Cqkv.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/%E8%B4%A7%E8%BD%A60.1,qkv.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/%E8%B4%A7%E8%BD%A60.2%EF%BC%8Cqkv.png?raw=true\\",\\"https://github.com/RyanLee-ljx/RyanLee-ljx.github.io/blob/image/NS/%E8%B4%A7%E8%BD%A60.3%EF%BC%8Cqkv.png?raw=true\\"],\\"datePublished\\":\\"2024-06-03T00:00:00.000Z\\",\\"dateModified\\":\\"2024-06-05T15:19:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"RyanLee_ljx\\",\\"email\\":\\"2284771024@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"1 基本概念","slug":"_1-基本概念","link":"#_1-基本概念","children":[{"level":3,"title":"1.1 Nagel–Schreckenberg model NS模型","slug":"_1-1-nagel–schreckenberg-model-ns模型","link":"#_1-1-nagel–schreckenberg-model-ns模型","children":[]},{"level":3,"title":"1.2 Rule 184","slug":"_1-2-rule-184","link":"#_1-2-rule-184","children":[]},{"level":3,"title":"1.3 Phantom traffic jam 幽灵拥堵","slug":"_1-3-phantom-traffic-jam-幽灵拥堵","link":"#_1-3-phantom-traffic-jam-幽灵拥堵","children":[]},{"level":3,"title":"1.4 基本图 Fundamental Diagram","slug":"_1-4-基本图-fundamental-diagram","link":"#_1-4-基本图-fundamental-diagram","children":[]}]},{"level":2,"title":"2 Model Description 模型描述","slug":"_2-model-description-模型描述","link":"#_2-model-description-模型描述","children":[{"level":3,"title":"2.1 Model Information 模型说明","slug":"_2-1-model-information-模型说明","link":"#_2-1-model-information-模型说明","children":[]},{"level":3,"title":"2.2 Model Step 更新规则","slug":"_2-2-model-step-更新规则","link":"#_2-2-model-step-更新规则","children":[]}]},{"level":2,"title":"3 改进NS模型 NS Model for Inhomogenous Traffic Flow in a Single Lane","slug":"_3-改进ns模型-ns-model-for-inhomogenous-traffic-flow-in-a-single-lane","link":"#_3-改进ns模型-ns-model-for-inhomogenous-traffic-flow-in-a-single-lane","children":[{"level":3,"title":"3.1 改进点：","slug":"_3-1-改进点","link":"#_3-1-改进点","children":[]},{"level":3,"title":"3.2 模型信息","slug":"_3-2-模型信息","link":"#_3-2-模型信息","children":[]},{"level":3,"title":"3.3 结果","slug":"_3-3-结果","link":"#_3-3-结果","children":[]},{"level":3,"title":"3.4 代码","slug":"_3-4-代码","link":"#_3-4-代码","children":[]},{"level":3,"title":"3.5 进一步的改进点","slug":"_3-5-进一步的改进点","link":"#_3-5-进一步的改进点","children":[]}]}],"git":{"createdTime":1714048806000,"updatedTime":1717600745000,"contributors":[{"name":"Flame","email":"2284771024@qq.com","commits":5}]},"readingTime":{"minutes":7.32,"words":2196},"filePathRelative":"traffic/ns.md","localizedDate":"2024年6月3日","excerpt":"\\n<p>本节介绍NS模型基本内容、改进NS模型以及对应代码的实现。</p>\\n<h2>1 基本概念</h2>\\n<h3>1.1 Nagel–Schreckenberg model NS模型</h3>\\n<p><strong>Nagel–Schreckenberg model</strong>，简称NS model，最初由德国物理学家<a href=\\"https://en.wikipedia.org/wiki/Nagel%E2%80%93Schreckenberg_model#cite_note-sn-1\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Kai Nagel and Michael Schreckenberg</a>,是一种基于CA模型的用于交通仿真的理论模型。</p>","autoDesc":true}`);export{Z as comp,J as data};
